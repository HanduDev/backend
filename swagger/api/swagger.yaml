---
openapi: 3.0.1
info:
  title: Handu API
  version: v1
paths:
  "/api/v1/authentication/google":
    post:
      summary: Authenticate by google
      tags:
      - Authentication
      parameters: []
      responses:
        '200':
          description: Logged successfully
          content:
            application/json:
              example:
                id: 1
                email: user1@email.com
                fullName: Sr. Henry Pedroso
                photoUrl:
                isEmailConfirmed: true
                token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3NDg2MTU4NDB9.tFXh_QNiEd77_ffeFcC7tlVAQOY4BC1lm2I-MOQF-8Y
        '201':
          description: Created and logged successfully
          content:
            application/json:
              example:
                id: 1
                email: magdalena_mccullough@jenkins.example
                fullName: Yuri Goulart
                photoUrl: http://marks-nitzsche.test/miesha_dubuque
                isEmailConfirmed: true
                token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3NDg2MTU4NDB9.tFXh_QNiEd77_ffeFcC7tlVAQOY4BC1lm2I-MOQF-8Y
        '401':
          description: Unauthorized
          content:
            application/json:
              example:
                message: Usuário ou senha inválidos.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: object
                  properties:
                    token:
                      type: string
                      example: Et1a9v9ZETk3yu
                  required:
                  - token
              required:
              - user
  "/api/v1/authentication/login":
    post:
      summary: Authenticate an user
      tags:
      - Authentication
      parameters: []
      responses:
        '401':
          description: User or password invalid
          content:
            application/json:
              example:
                message: Usuário ou senha inválidos.
        '200':
          description: Informations loaded successfully
          content:
            application/json:
              example:
                id: 1
                email: user2@email.com
                fullName: Maria Laura Carvalheira Jr.
                photoUrl:
                isEmailConfirmed: true
                token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3NDg2MTU4NDB9.tFXh_QNiEd77_ffeFcC7tlVAQOY4BC1lm2I-MOQF-8Y
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: object
                  properties:
                    email:
                      type: string
                      example: angelica.harber@schmitt.test
                    password:
                      type: string
                      example: 5awK8ESNke1Yr
              required:
              - email
              - password
  "/api/v1/authentication/register":
    post:
      summary: Register an user
      tags:
      - Authentication
      parameters: []
      responses:
        '409':
          description: User already exists
          content:
            application/json:
              example:
                message: Usuário já existente
        '422':
          description: Invalid password
          content:
            application/json:
              example:
                message: 'A validação falhou: Senha necessita ter pelo menos 8 caracteres,
                  uma letra maiúscula, uma letra minúscula, um número e um caractere
                  especial'
                errors:
                  password:
                  - necessita ter pelo menos 8 caracteres, uma letra maiúscula, uma
                    letra minúscula, um número e um caractere especial
        '201':
          description: Created successfully
          content:
            application/json:
              example:
                id: 2
                email: andrea@cummerata.test
                fullName: Bruno Cabreira
                photoUrl:
                isEmailConfirmed: false
                token: eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoyLCJleHAiOjE3NDg2MTU4NDB9.vI91LsWbeOzzmX2-K77jkYUsE9BASRX53FXqaphYkEM
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: object
                  properties:
                    email:
                      type: string
                      example: annabelle.fahey@schuster.example
                    password:
                      type: string
                      example: qm9D1FY4QAAuAQtq
                    full_name:
                      type: string
                      example: Dalila Esteves Neto
              required:
              - email
              - password
              - full_name
  "/api/v1/languages":
    get:
      summary: Loads all languages
      tags:
      - Languages
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      responses:
        '200':
          description: Languages loaded
          content:
            application/json:
              example:
                languages:
                - acronym: af
                  name: Africâner
                - acronym: de
                  name: Alemão
                - acronym: hy
                  name: Armênio
                - acronym: az
                  name: Azerbaijano
                - acronym: ba
                  name: Bashkir
                - acronym: be
                  name: Bielorrusso
                - acronym: bg
                  name: Búlgaro
                - acronym: ca
                  name: Canadense
                - acronym: hr
                  name: Croata
                - acronym: da
                  name: Dinamarquês
                - acronym: sk
                  name: Eslovaco
                - acronym: es
                  name: Espanhol
                - acronym: et
                  name: Estoniano
                - acronym: fo
                  name: Feroês
                - acronym: fi
                  name: Finlandês
                - acronym: fr
                  name: Francês
                - acronym: gl
                  name: Galego
                - acronym: cy
                  name: Galês
                - acronym: el
                  name: Grego
                - acronym: gu
                  name: Guzerate
                - acronym: he
                  name: Hebraico
                - acronym: hi
                  name: Híndi
                - acronym: hu
                  name: Húngaro
                - acronym: id
                  name: Indonésio
                - acronym: en
                  name: Inglês
                - acronym: en-us
                  name: Inglês
                - acronym: is
                  name: Islandês
                - acronym: it
                  name: Italiano
                - acronym: ja
                  name: Japonês
                - acronym: lt
                  name: Lituano
                - acronym: fa
                  name: Persa
                - acronym: pt
                  name: Português
                - acronym: pt-br
                  name: Português
                - acronym: sv
                  name: Sueco
                - acronym: cs
                  name: Tcheco
                - acronym: tr
                  name: Turco
                - acronym: ar
                  name: Árabe
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
  "/api/v1/lessons/{id}":
    delete:
      summary: Deletes a lesson
      tags:
      - Lessons
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      - name: id
        in: path
        required: true
        description: ID of the lesson to delete
        schema:
          type: integer
      responses:
        '204':
          description: Deleted successfully
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
        '404':
          description: Lesson not found
          content:
            application/json:
              example:
                message: Aula não encontrada
    get:
      summary: Show a lesson
      tags:
      - Lessons
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      - name: id
        in: path
        required: true
        description: ID of the lesson to show
        schema:
          type: integer
      responses:
        '200':
          description: Returned successfully
          content:
            application/json:
              example:
                lesson:
                  id: 1
                  name: Eligendi qui exercitationem fugit.
                  content: Inventore vitae tempora. Quis repellendus provident. At
                    minus qui.
                  hasFinished: false
                  createdAt: '2025-05-29T11:37:20.871-03:00'
                  activityType:
                  question:
                  userAnswer:
                  isCorrect: false
                  attemptCount: 0
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
        '404':
          description: Lesson not found
          content:
            application/json:
              example:
                message: Aula não encontrada
  "/api/v1/lessons":
    get:
      summary: Returns a list of lessons
      tags:
      - Lessons
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      responses:
        '200':
          description: Returned successfully
          content:
            application/json:
              example:
                lessons:
                - id: 1
                  name: Deserunt optio voluptatum id.
                  hasFinished: false
                  activityType:
                  isCorrect: false
                - id: 2
                  name: Itaque magni dolores quam.
                  hasFinished: false
                  activityType:
                  isCorrect: false
                - id: 3
                  name: Provident odio est iste.
                  hasFinished: false
                  activityType:
                  isCorrect: false
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
  "/":
    get:
      summary: Shows informations of API
      tags:
      - v1 API
      responses:
        '200':
          description: Informations loaded successfully
          content:
            application/json:
              example:
                version: 1.0.0
                message: Welcome to Handu API
                docs:
                  url: "/api-docs"
                  description: Handu API documentation
                maintaners:
                - ra: '23000201'
                  name: Everton Henrique Lopes
                  email: everton.lopes@sou.unifeob.edu.br
                - ra: '23000897'
                  name: Fábio Koiti Konda
                  email: fabio.konda@sou.unifeob.edu.br
                - ra: '23000019'
                  name: Lucas Pizol Ferreira
                  email: lucas.pizol@sou.unifeob.edu.br
                - ra: '23001518'
                  name: Mariana Franceschi Tessarini
                  email: mariana.tessarini@sou.unifeob.edu.br
                - ra: '23000825'
                  name: Yan Gomes Aguiar de Almeida
                  email: yan.aguiar@sou.unifeob.edu.br
                instituion:
                  name: Centro Universitário da Fundação de Ensino Octávio Bastos
                  acronym: UNIFEOB
                  url: https://www.unifeob.edu.br
  "/api/v1/trails":
    post:
      summary: Creates a trail
      tags:
      - Trails
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      responses:
        '201':
          description: Created successfully
          content:
            application/json:
              example:
                message: Trilha criada com sucesso
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                trail:
                  type: object
                  properties:
                    language:
                      type: string
                      example: en
                      enum:
                      - af
                      - ar
                      - az
                      - ba
                      - be
                      - bg
                      - ca
                      - cs
                      - cy
                      - da
                      - de
                      - el
                      - en
                      - en-us
                      - es
                      - ja
                      - et
                      - fa
                      - fi
                      - fo
                      - fr
                      - gl
                      - gu
                      - he
                      - hi
                      - hr
                      - hu
                      - hy
                      - id
                      - is
                      - it
                      - lt
                      - pt
                      - pt-br
                      - sk
                      - sv
                      - tr
                  required:
                  - language
              required:
              - trail
    get:
      summary: Returns a list of trails
      tags:
      - Trails
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      responses:
        '200':
          description: Returned successfully
          content:
            application/json:
              example:
                trails:
                - id: 3
                  name: Earum voluptate aut.
                  description: Aut rerum autem. Architecto fugiat sit.
                  language:
                    name: Inglês
                    code: en
                  progress: 0.0
                - id: 2
                  name: Explicabo dolorem molestias.
                  description: At ut rem. Consequuntur iste ut.
                  language:
                    name: Inglês
                    code: en
                  progress: 0.0
                - id: 1
                  name: Laborum quis qui.
                  description: Nam id eos. Et ut qui.
                  language:
                    name: Inglês
                    code: en
                  progress: 0.0
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
  "/api/v1/trails/{id}":
    delete:
      summary: Deletes a trails
      tags:
      - Trails
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      - name: id
        in: path
        required: true
        description: ID of the trail to delete
        schema:
          type: integer
      responses:
        '204':
          description: Deleted successfully
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
        '404':
          description: Trail not found
          content:
            application/json:
              example:
                message: Trilha não encontrada
    get:
      summary: Show a trail
      tags:
      - Trails
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      - name: id
        in: path
        required: true
        description: ID of the trail to delete
        schema:
          type: integer
      responses:
        '200':
          description: Returned successfully
          content:
            application/json:
              example:
                trail:
                  id: 1
                  name: Voluptas unde dicta.
                  description: Omnis aut et. Non voluptatem nobis.
                  language:
                    name: Inglês
                    code: en
                  progress: 0.0
                  lessons:
                  - id: 1
                    name: Sunt repellendus minima eaque.
                    hasFinished: false
                    activityType:
                    isCorrect: false
                  - id: 2
                    name: Voluptatem consequatur magni beatae.
                    hasFinished: false
                    activityType:
                    isCorrect: false
                  - id: 3
                    name: Repellendus suscipit placeat eum.
                    hasFinished: false
                    activityType:
                    isCorrect: false
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
        '404':
          description: Trail not found
          content:
            application/json:
              example:
                message: Trilha não encontrada
  "/api/v1/translate_text":
    post:
      summary: Translate an text to another language
      tags:
      - Translate Text
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      responses:
        '200':
          description: Translated successfully
          content:
            application/json:
              example:
                message: Olá, mundo!
        '400':
          description: Invalid language
          content:
            application/json:
              example:
                message: Linguagem de Destino não está incluído na lista
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
        '422':
          description: Invalid params
          content:
            application/json:
              example:
                message: 'param is missing or the value is empty or invalid: translate'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                translate:
                  type: object
                  properties:
                    text:
                      type: string
                      example: Hello, world!
                    image:
                      type: string
                      example: https://example.com/image.jpg
                    from_language:
                      type: string
                      example: en
                      enum:
                      - af
                      - ar
                      - az
                      - ba
                      - be
                      - bg
                      - ca
                      - cs
                      - cy
                      - da
                      - de
                      - el
                      - en
                      - en-us
                      - es
                      - ja
                      - et
                      - fa
                      - fi
                      - fo
                      - fr
                      - gl
                      - gu
                      - he
                      - hi
                      - hr
                      - hu
                      - hy
                      - id
                      - is
                      - it
                      - lt
                      - pt
                      - pt-br
                      - sk
                      - sv
                      - tr
                    to_language:
                      type: string
                      example: pt
                      enum:
                      - af
                      - ar
                      - az
                      - ba
                      - be
                      - bg
                      - ca
                      - cs
                      - cy
                      - da
                      - de
                      - el
                      - en
                      - en-us
                      - es
                      - ja
                      - et
                      - fa
                      - fi
                      - fo
                      - fr
                      - gl
                      - gu
                      - he
                      - hi
                      - hr
                      - hu
                      - hy
                      - id
                      - is
                      - it
                      - lt
                      - pt
                      - pt-br
                      - sk
                      - sv
                      - tr
                  required:
                  - text
                  - from_language
                  - to_language
              required:
              - translate
  "/api/v1/users/confirm_email":
    post:
      summary: Confirm email
      tags:
      - Users
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      responses:
        '200':
          description: Email confirmed successfully
          content:
            application/json:
              example:
                id: 1
                email: user26@email.com
                fullName: Melissa Pinto Jr.
                photoUrl:
                isEmailConfirmed: true
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
        '409':
          description: Email already confirmed
          content:
            application/json:
              example:
                message: Email já confirmado
        '422':
          description: Invalid params
          content:
            application/json:
              example:
                message: 'param is missing or the value is empty or invalid: user'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: object
                  properties:
                    code:
                      type: string
                      example: '1234'
                  required:
                  - code
              required:
              - user
  "/api/v1/users/me":
    get:
      summary: Get user
      tags:
      - Users
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      responses:
        '200':
          description: Get current user
          content:
            application/json:
              example:
                id: 1
                email: user29@email.com
                fullName: Maria Isis Caldas
                photoUrl:
                isEmailConfirmed: false
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
    put:
      summary: Updates user information
      tags:
      - v1 API
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      responses:
        '200':
          description: User information updated successfully
          content:
            application/json:
              example:
                id: 1
                email: new_email@example.com
                fullName: Beatriz Domingues
                photoUrl:
                isEmailConfirmed: true
        '401':
          description: Expired or invalid session
        '422':
          description: Unprocessable entity
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                name:
                  type: string
  "/api/v1/users/resend_email_confirmation":
    post:
      summary: Resend email confirmation
      tags:
      - Users
      security:
      - Bearer: []
      parameters:
      - name: Authorization
        in: header
        schema:
          type: string
      responses:
        '200':
          description: Email confirmation sent
          content:
            application/json:
              example:
                message: E-mail de confirmação enviado com sucesso
        '401':
          description: Expired or invalid session
          content:
            application/json:
              example:
                message: Sessão expirada ou inválida.
        '409':
          description: Email already confirmed
          content:
            application/json:
              example:
                message: Email já confirmado
servers:
- url: http://localhost:8080
  variables:
    defaultHost:
      default: http://localhost:8080
